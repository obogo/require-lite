{"version":3,"sources":["require-lite.js"],"names":["define","require","initDefinition","name","defined","args","arguments","val","definitions","DEFINITIONS_TOKEN","resolveModule","initHandler","pending","i","len","dependencyName","deps","length","ignoreWarnings","console","warn","hasOwnProperty","exports","REQUIRE","push","EXPORTS","undefined","returnVal","apply","DEFAULT","resolve","_get","timer","CACHE_TOKEN","CACHED","DEFINED","PENDING","Function","clearInterval","setTimeout","modules","handler","clearTimeout","toString"],"mappings":"AAAA,GAAAA,QAAAC,SACA,WAkBA,QAAAC,GAAAC,GACA,IAAAC,EAAAD,GAAA,CACA,GAAAE,GAAAC,UACAC,EAAAF,EAAA,EACA,mBAAAE,GAEAH,EAAAD,GAAAI,KAKAC,EAAAL,GAAAE,EAAA,GACAG,EAAAL,GAAAM,GAAAF,IAKA,QAAAG,GAAAP,EAAAQ,GACAC,EAAAT,IAAA,CACA,IAEAU,GAAAC,EACAC,EAHAC,EAAAL,EAAAF,GACAJ,IAGA,IAAAW,EAEA,IADAF,EAAAE,EAAAC,OACAJ,EAAA,EAAAC,EAAAD,EAAAA,IACAE,EAAAC,EAAAH,GACAL,EAAAO,KAIAH,EAAAG,GACAd,QAAAiB,gBACAC,QAAAC,KAAA,iCAAAjB,EAAA,UAAAY,EAAA,MAIAL,EAAAK,EAAAP,EAAAO,UAEAP,GAAAO,GAIA,KAAAX,EAAAiB,eAAAlB,GAAA,CACA,GAAAmB,EAEA,KAAAT,EAAA,EAAAC,EAAAD,EAAAA,IACAE,EAAAC,EAAAH,GACAE,IAAAQ,EACAlB,EAAAmB,KAAAvB,SAEAc,IAAAU,GACAH,KACAjB,EAAAmB,KAAAF,IAEAlB,EAAAiB,eAAAN,GACAV,EAAAmB,KAAApB,EAAAW,IAEAd,QAAAiB,iBACAb,EAAAmB,KAAAE,QACAP,QAAAC,KAAA,WAAAjB,EAAA,eAAAY,EAAA,wBAGA,IAAAY,GAAAhB,EAAAiB,MAAA,KAAAvB,EACAiB,GACAA,EAAAD,eAAAQ,GACAzB,EAAAD,GAAAmB,EAAAO,GAGAzB,EAAAD,GAAAmB,EAIAlB,EAAAD,GAAAwB,QAGAf,GAAAT,GAEA,QAAA2B,KACA,IAAA,GAAA3B,KAAAK,GACAA,EAAAa,eAAAlB,IACAO,EAAAP,EAAAK,EAAAL,IAlGA,GAAA4B,GAAA3B,EAAAQ,EAAAJ,EAAAwB,EAAA,EACAC,EAAA,IAAAxB,EAAA,IAAAc,EAAA,UAAAE,EAAA,UAAAI,EAAA,UAAAK,EAAA,IAAAC,EAAA,IAAAC,EAAA,GA6HA,OAzHAL,GAAAM,SAAAJ,GAAAI,SAAAJ,IAAA,SAAA9B,GAIA,MAHA4B,GAAA5B,KACA4B,EAAA5B,OAEA4B,EAAA5B,IAEAK,EAAAuB,EAAAG,GACA9B,EAAA2B,EAAAI,GACAvB,EAAAmB,EAAAK,GAyFApC,OAAA,SAAAG,EAAAa,EAAAL,GACA,SAAAK,IAAAA,MACAd,EAAA0B,MAAA,KAAAtB,WACAgC,cAAAN,GACAO,WAAAT,IAEA7B,QAAA,SAAAuC,EAAAC,GAGA,GAFAC,aAAAV,GACAF,KACAW,EAAA,CACA,GAAAtC,GAAAqC,EAAAG,UACA,OAAAvC,GAAAD,GAEA,GAAAE,KACA,iBAAAmC,KACAA,GAAAA,GAGA,KAAA,GADA1B,GAAA0B,EAAAvB,OACAJ,EAAA,EAAAC,EAAAD,EAAAA,IACAR,EAAAmB,KAAApB,EAAAoC,EAAA3B,IAEA4B,GAAAb,MAAA,KAAAvB,IAEAJ,QAAAiB,gBAAA,EACAlB","file":"require-lite.min.js","sourcesContent":["var define, require;\n(function () {\n    var _get, defined, pending, definitions, timer = 0;\n    var CACHE_TOKEN = '~', DEFINITIONS_TOKEN = '.', REQUIRE = 'require', EXPORTS = 'exports', DEFAULT = 'default', CACHED = 'c', DEFINED = 'd', PENDING = 'p';\n    /**\n     * Sets and Gets cache, defined, and pending items in a private internal cache\n     */\n    _get = Function[CACHE_TOKEN] = Function[CACHE_TOKEN] || function (name) {\n        if (!_get[name]) {\n            _get[name] = {};\n        }\n        return _get[name];\n    };\n    definitions = _get(CACHED); // these are items that have been initialized and permanently cached\n    defined = _get(DEFINED); // these are items that have been defined but have not been initialized\n    pending = _get(PENDING); // these are items that have been initialized but have deps that need initialized before done\n    /**\n     * Initializes\n     */\n    function initDefinition(name) {\n        if (!defined[name]) {\n            var args = arguments;\n            var val = args[1];\n            if (typeof val === 'function') {\n                // ex. define('myFunc', function(){...});\n                defined[name] = val(); // invoke immediately and assign to defined\n            }\n            else {\n                // store in a temporary definitions until all definitions have been processed\n                // ex. define('myFunc', ['toBoolean'], function(toBoolean){...})\n                definitions[name] = args[2]; // skip array and assign funtion to cached name\n                definitions[name][DEFINITIONS_TOKEN] = val; // assign dependencies to definitions on function itself\n            }\n        }\n    }\n    ;\n    function resolveModule(name, initHandler) {\n        pending[name] = true; // mark this definition as pending\n        var deps = initHandler[DEFINITIONS_TOKEN]; // get any dependencies required by definition\n        var args = [];\n        var i, len;\n        var dependencyName;\n        if (deps) {\n            len = deps.length;\n            for (i = 0; i < len; i++) {\n                dependencyName = deps[i];\n                if (definitions[dependencyName]) {\n                    // if (!pending.hasOwnProperty(dependencyName)) {\n                    //     resolveModule(dependencyName, definitions[dependencyName]);\n                    // }\n                    if (pending[dependencyName]) {\n                        if (!require.ignoreWarnings) {\n                            console.warn('Recursive dependency between \"' + name + '\" and \"' + dependencyName + '\".');\n                        }\n                    }\n                    else {\n                        resolveModule(dependencyName, definitions[dependencyName]);\n                    }\n                    delete definitions[dependencyName];\n                }\n            }\n        }\n        if (!defined.hasOwnProperty(name)) {\n            var exports;\n            var module;\n            for (i = 0; i < len; i++) {\n                dependencyName = deps[i]; // get the dependency name\n                if (dependencyName === REQUIRE) {\n                    args.push(require);\n                }\n                else if (dependencyName === EXPORTS) {\n                    exports = {};\n                    args.push(exports);\n                }\n                else if (defined.hasOwnProperty(dependencyName)) {\n                    args.push(defined[dependencyName]); // this will push an item even if it is undefined\n                }\n                else if (!require.ignoreWarnings) {\n                    args.push(undefined);\n                    console.warn('Module \"' + name + '\" requires \"' + dependencyName + '\", but is undefined.');\n                }\n            }\n            var returnVal = initHandler.apply(null, args); // call the function and assign return value onto defined list\n            if (exports) {\n                if (exports.hasOwnProperty(DEFAULT)) {\n                    defined[name] = exports[DEFAULT];\n                }\n                else {\n                    defined[name] = exports;\n                }\n            }\n            else {\n                defined[name] = returnVal;\n            }\n        }\n        delete pending[name]; // permanently remove pending item\n    }\n    function resolve() {\n        for (var name in definitions) {\n            if (definitions.hasOwnProperty(name)) {\n                resolveModule(name, definitions[name]);\n            }\n        }\n    }\n    define = function (name, deps, initHandler) {\n        if (deps === void 0) { deps = []; }\n        initDefinition.apply(null, arguments);\n        clearInterval(timer);\n        setTimeout(resolve);\n    };\n    require = function (modules, handler) {\n        clearTimeout(timer);\n        resolve();\n        if (!handler) {\n            var name = modules.toString();\n            return defined[name];\n        }\n        var args = [];\n        if (typeof modules === 'string') {\n            modules = [modules];\n        }\n        var len = modules.length;\n        for (var i = 0; i < len; i++) {\n            args.push(defined[modules[i]]);\n        }\n        handler.apply(null, args);\n    };\n    require.ignoreWarnings = false;\n    return define;\n}());\n//# sourceMappingURL=require-lite.js.map"],"sourceRoot":"/source/"}