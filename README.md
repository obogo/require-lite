# require-lite

A light-weight JavaScript implementation of AMD.

This works well with https://github.com/obogo/amd-treeshake, which is used to remove unused modules from a file generated by TypeScript.

#### Instructions

Add this file top-most before define() declarations. 

> *require-lite* does not load external files if a definition does not exist.

#### Supported

##### define() without dependencies
```js
define(name:String, handler:Function):void
```
##### define() with dependencies
```js
define(name:String, deps[name:String, ...], handler:Function):void
```
##### require() with dependencies as string
```js
require(name:String, handler:Function):void
```
##### require() with dependencies as []
```js
require(deps[name:String, ...], handler:Function):void
```
##### require() synchronous inline return module
```js
var module = require(name:String):module
```
##### Injectable "require" and "exports" modules
```js
define("myModule", ["require", "exports"], function(require, exports) {
	var message = require("message");
	// use exports to define a public API
	exports.getProp = function() {...};
})
```
##### Using default value as definition
```js
define("myModule", ["exports"], function(exports){
	// use exports to define a public API
	exports.default = function() {...};
})

var myModule = require("myModule");
myModule();
```

##### Return value as definition
```js
define("myModule", ["exports"], function(exports){
	return function() {...};
})

var myModule = require("myModule");
myModule();
```
##### Warnings when module does not exist
```js
define("myModule", ["bogus"], function(bogus){
	...
})
```

##### Recursive dependency detection

Will warn you when you have modules depending on each other recursively.

```js
// This will warn you, `Module "c" has a recursive dependency on module "a"`

define("a", ["b"], function() {...});
define("b", ["c"], function() {...});
define("c", ["a"], function() {...});
```

##### Suppress Warnings
```js
require.ignoreWarnings = true;
```

#### Not supported

```js
// anonymous definitions, first param must be name:String
define([deps...], handler:Function):void
```


#### Usage

```html
<script src="require-lite.min.js"></script>
```

```js
define("message", ["greeting"], function (greeting) {
	return greeting("Obogo");
});

define("greeting", ["bogus"], function (bogus) {
    return function (name) {
        return "Hello, " + name;
    };
});

// inline single module
var message = require("message");
console.log(message); // "Hello, Obogo"

// require using string module
require("message", function(message){
	console.log(message); // "Hello, Obogo"
});

// require using array of modules
require(["message"], function(message) {
	console.log(message); // "Hello, Obogo"
});
```
